<div class="movie-card glass-card">
  <article class="movie-card">
    <div class="movie-card__poster-wrapper">
      {% if obj.poster_path %}
        <img src="https://image.tmdb.org/t/p/w342{{ obj.poster_path }}"
             alt="{{ obj.title }}"
             class="movie-poster"
             loading="lazy"
             onerror="this.src='/static/no-poster.jpg'">
      {% else %}
        <div class="no-poster">ğŸ¬</div>
      {% endif %}

      <div class="movie-card__overlay">
        {% if obj.user_rating %}
          <div class="movie-badge movie-badge--rating">{{ obj.user_rating }}</div>
        {% endif %}

        <div class="movie-badge-group">
          {% if obj.is_watched %}
            <span class="movie-badge movie-badge--watched" title="ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ĞµĞ½Ğ¾">ğŸ¿</span>
          {% elif obj.is_planned %}
            <span class="movie-badge movie-badge--planned" title="Ğ—Ğ°Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾">ğŸ“…</span>
          {% endif %}
          {% if obj.is_favorite %}
            <span class="movie-badge movie-badge--favorite" title="Ğ›ÑĞ±Ğ¸Ğ¼Ğ¾Ğµ">ğŸ”¥</span>
          {% endif %}
        </div>
      </div>
    </div>

    <div class="movie-meta mt-2">
      <a class="movie-title" href="{% url "films:film_detail" tmdb_id=obj.tmdb_id %}">{{ obj.title }}</a>
      <p class="movie-extra">
        {{ obj.release_date.year }}
        {% if obj.genres.exists %}
          ,
          {% for genre in obj.genres.all %}
            {{ genre.name }}{% if not forloop.last %}, {% endif %}
          {% endfor %}
        {% endif %}
      </p>
    </div>

    <div class="movie-card__divider"></div>

    <div class="movie-card__footer movie-card__footer--compact">
      <div class="movie-card__actions-row">
        <button class="btn-icon" data-action="plan" title="Ğ—Ğ°Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ">ğŸ“…</button>
        {% if search_type == "favorites" %}
          <button class="btn-icon" data-action="delete" title="Ğ£Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ¸Ğ· Ğ›ÑĞ±Ğ¸Ğ¼Ğ¾Ğ³Ğ¾">â›”</button>
        {% else %}
          <button class="btn-icon" data-action="delete" title="Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ² Ğ›ÑĞ±Ğ¸Ğ¼Ğ¾Ğµ">ğŸ”¥</button>
        {% endif %}
        {% if search_type == "watched" %}
          <button class="btn-icon" data-action="watched" title="Ğ£Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ¸Ğ· Ğ¿Ñ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾">
              <span class="btn-remove-watched__icon">ğŸ‘ï¸</span>
              <span class="btn-remove-watched__cross">âœ•</span>
          </button>
          <button class="btn-icon" data-action="delete" title="Ğ˜Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ¾Ñ‚Ğ·Ñ‹Ğ²">âœï¸</button>
        {% else %}
          <button class="btn-icon" data-action="watched" title="Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ² ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ĞµĞ½Ğ¾">ğŸ¿</button>
        {% endif %}
        <button class="btn-icon" data-action="delete" title="Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ">âŒ</button>

      </div>
    </div>
  </article>
</div>
