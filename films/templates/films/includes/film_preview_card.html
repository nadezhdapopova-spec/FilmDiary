<div class="movie-card glass-card">
  <article class="movie-card">

    {% include 'films/includes/rating.html' %}

    <div class="movie-card__poster-wrapper">
      {% if obj.poster_url or obj.poster_path %}
        <img src="{{ obj.poster_url|default:'https://image.tmdb.org/t/p/w342'}}{{ obj.poster_path|default:'' }}"
          alt="{{ obj.title }}"
          class="movie-poster">
      {% else %}
        <div class="no-poster">üé¨</div>
      {% endif %}
    </div>

    <div class="movie-meta mt-2">
      {% if obj.tmdb_id %}
        <a class="movie-title" href="{% url "films:film_detail" tmdb_id=obj.tmdb_id %}">{{ obj.title }}</a>
      {% else %}
        <span class="movie-title">{{ obj.title }}</span>
      {% endif %}
      <p class="movie-extra">
        {{ obj.release_date|slice:":4" }}{% if obj.genres %}, {{ obj.genres }}{% endif %}
      </p>
    </div>

    <!-- –æ—Ä–∞–Ω–∂–µ–≤–∞—è —á–µ—Ä—Ç–∞ -->
    <div class="movie-card__divider"></div>

    <!-- —Ñ—É—Ç–µ—Ä —Å—Ç–∞—Ç—É—Å–∞ -->
    <div class="movie-card__footer{% if obj.status == 'none' %} movie-card__footer--centered{% endif %}">

      {% if obj.status == "watched" %}
        <span class="status-badge">
          <span class="status-badge__square status-badge__square--{{ obj.rating_color }}"></span>
          <span class="status-badge__text">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ ({{ obj.rating }})</span>
          {% if obj.is_favorite %}
            <span class="status-badge__icon">üî•</span>
          {% endif %}
        </span>

      {% elif obj.status == "planned" %}
        <span class="status-badge">
          <span class="status-badge__text">–•–æ—á—É –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å</span>
        </span>

      {% else %}
        <button class="btn-add-film glass-btn"
            data-tmdb-id="{{ obj.tmdb_id }}"
            data-title="{{ obj.title }}">
          <span class="btn-add-film__text">–•–æ—á—É –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å</span>
          <span class="btn-add-film__icon">+</span>
        </button>
      {% endif %}

    </div>
  </article>
</div>
