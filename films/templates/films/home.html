{% extends "base.html" %}
{% load static %}

{% block title %}–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å{% endblock %}

{% block content %}
<main class="main-content">
  <section class="homepage-section">

    {% if user.is_authenticated %}
      <!-- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –º–µ–Ω—è -->
      <div class="glass-card movie-section-card">
        <div class="card-header">
          <h2 class="card-title">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è</h2>
          for film in recommendations[:12]:
            {% include 'films/includes/film_preview_card.html' %}
          <a href="#" class="auth-btn auth-btn--primary">
            –°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ
          </a>
        </div>
      </div>

      <!-- –ü–æ–∏—Å–∫ –∏ –ø–æ–¥–±–æ—Ä–∫–∏ -->
      <div class="glass-card movie-section-card">
        <div class="card-header">
          <h2 class="card-title">–ü–æ–∏—Å–∫ –∏ –ø–æ–¥–±–æ—Ä–∫–∏ —Ñ–∏–ª—å–º–æ–≤</h2>
        </div>

        <div class="card-body movie-search-body">
          <!-- –°—Ç—Ä–æ–∫–∞ –ø–æ–∏—Å–∫–∞ -->
          <div class="movie-search-body__search">
            {% include 'includes/search_bar.html' %}
          </div>

          <!-- –ë–ª–æ–∫ –ø–æ–¥–±–æ—Ä–æ–∫ -->
          <div class="movie-search-body__collections">
            <h3 class="card-title movie-search-body__subtitle">–ò—Å–∫–∞—Ç—å –≤ –ø–æ–¥–±–æ—Ä–∫–∞—Ö:</h3>

            <div class="movie-search-body__chips">
              <a href="#" class="auth-btn auth-btn--primary">–°–µ–π—á–∞—Å –≤ –∫–∏–Ω–æ</a>
              <a href="#" class="auth-btn auth-btn--primary">–°–∫–æ—Ä–æ –≤ –∫–∏–Ω–æ</a>
              <a href="#" class="auth-btn auth-btn--primary">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ñ–∏–ª—å–º—ã</a>
              <a href="#" class="auth-btn auth-btn--primary">–¢—Ä–µ–Ω–¥—ã –Ω–µ–¥–µ–ª–∏</a>
              <a href="#" class="auth-btn auth-btn--primary">–¢–æ–ø‚Äë—Ä–µ–π—Ç–∏–Ω–≥–æ–≤—ã–µ —Ñ–∏–ª—å–º—ã</a>
            </div>
          </div>
        </div>
      </div>

      <!-- –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ –∫ –ø—Ä–æ—Å–º–æ—Ç—Ä—É -->
      <div class="glass-card movie-section-card">
        <div class="card-header">
          <h2 class="card-title">–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∏–ª—å–º—ã</h2>
          <a href="#" class="auth-btn auth-btn--primary">–û—Ç–∫—Ä—ã—Ç—å —Å–ø–∏—Å–æ–∫</a>
        </div>

        <div class="movie-grid">
          {% for movie in planned_movies %}
            <article class="movie-card">
              <img src="{{ movie.poster_url }}" alt="{{ movie.title }}" class="movie-poster">
              <div class="movie-meta">
                <h3 class="movie-title">{{ movie.title }}</h3>
                <p class="movie-extra">–ü–ª–∞–Ω –Ω–∞ {{ movie.planned_date }}</p>
              </div>
            </article>
          {% endfor %}
        </div>
      </div>

      <!-- –ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ -->
      <div class="glass-card movie-section-card">
        <div class="card-header">
          <h2 class="card-title">–ù–µ–¥–∞–≤–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ</h2>
          <a href="#" class="auth-btn auth-btn--primary">–û—Ç–∫—Ä—ã—Ç—å —Å–ø–∏—Å–æ–∫</a>
        </div>

        <div class="movie-grid">
          {% for movie in planned_movies %}
            <article class="movie-card">
              <img src="{{ movie.poster_url }}" alt="{{ movie.title }}" class="movie-poster">
              <div class="movie-meta">
                <h3 class="movie-title">{{ movie.title }}</h3>
                <p class="movie-extra">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ: {{ movie.watched_date }}</p>
              </div>
            </article>
          {% endfor %}
        </div>
      </div>

    {% else %}
      <div class="glass-card movie-section-card">
        <div class="card-header">
          <img src="{% static 'images/banner.png' %}" class="img-fluid" alt="–ö–∏–Ω–æ –±–∞–Ω–Ω–µ—Ä">
        </div>

        <div class="card-body">
          <!-- –§–∏—á–∏ –≤ —Å–µ—Ç–∫–µ -->
          <div class="features-grid">
            <div class="feature-item">
              <div class="feature-icon">üìì</div>
              <h4>–î–Ω–µ–≤–Ω–∏–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤</h4>
              <p>–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–π —ç–º–æ—Ü–∏–∏ –æ—Ç –∫–∞–∂–¥–æ–≥–æ —Å–µ–∞–Ω—Å–∞</p>
            </div>

            <div class="feature-item">
              <div class="feature-icon">‚≠ê</div>
              <h4>–û—Ü–µ–Ω–∫–∏ –∏ –æ—Ç–∑—ã–≤—ã</h4>
              <p>–°—Ç–∞–≤—å –±–∞–ª–ª—ã, –ø–∏—à–∏ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è</p>
            </div>

            <div class="feature-item">
              <div class="feature-icon">üéØ</div>
              <h4>–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h4>
              <p>–ü–æ–ª—É—á–∞–π —Ñ–∏–ª—å–º—ã –ø–æ —Ç–≤–æ–µ–º—É –≤–∫—É—Å—É</p>
            </div>

            <div class="feature-item">
              <div class="feature-icon">üìÖ</div>
              <h4>–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –ø—Ä–µ–º—å–µ—Ä</h4>
              <p>–ö–∞–ª–µ–Ω–¥–∞—Ä—å –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ –∏ –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–æ–≤</p>
            </div>
          </div>


          <!-- CTA –±–ª–æ–∫ -->
          <div class="cta-section">
            <!-- Hero —Ç–µ–∫—Å—Ç -->
            <div class="hero-text">
              <h2 class="hero-title">
                üé¨ –û—Ü–µ–Ω–∏–≤–∞–π, –ø–ª–∞–Ω–∏—Ä—É–π, —Å–æ–±–∏—Ä–∞–π
                <span class="gradient-text">—Å–≤–æ—é </span>–∫–∏–Ω–æ–≤—Å–µ–ª–µ–Ω–Ω—É—é
              </h2>
            </div>
            <p class="cta-text">
              –õ–∏—á–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –±–µ–∑ —Å–æ—Ü—Å–µ—Ç–∏.
              <span class="highlight">–£—é—Ç–Ω–æ –∫–∞–∫ –¥–æ–º–∞!</span>
            </p>
            <div class="cta-buttons mt-3">
              <a href="{% url 'users:register' %}" class="auth-btn auth-btn--danger btn-cta">
                <span>–ù–∞—á–∞—Ç—å —Å–µ–π—á–∞—Å</span>
                <div class="btn-glow"></div>
              </a>
            </div>
          </div>

          <!-- –ù–µ–æ–Ω–æ–≤—ã–π —Å–ª–æ–≥–∞–Ω -->
          <div class="neon-slogan">
            <div class="neon-logo neon-logo--small">
              FilmDiary ‚Äî –Ω–µ–æ–Ω–æ–≤—ã–π –º–∞—Ä—à—Ä—É—Ç –ø–æ –º–∏—Ä—É –∫–∏–Ω–æ
            </div>
          </div>
        </div>
      </div>

    {% endif %}
  </section>
</main>
{% endblock %}
