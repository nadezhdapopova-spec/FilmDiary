{% extends "base.html" %}
{% load static %}

{% block title %}Результаты поиска{% endblock %}

{% block content %}
<main class="main-content">
  <section class="homepage-section">
    <div class="container mt-5">
        <h2 class="fw-normal">Поиск фильмов{% if query %} по запросу "{{ query }}"{% endif %}</h2>
        <hr>
    </div>
    <div class="container">
      <div class="movie-search-body__search">
        {% include 'includes/search_bar.html' %}
      </div>
      {% if not query %}
        <h4 class="fw-normal">Введите ключевое слово для поиска</h4>
      {% elif page_obj.paginator.count == 0 %}
        <div class="text-center py-5">
          <h4 class="fw-normal">Ничего не найдено</h4>
        </div>
      {% else %}
        <!-- Сетка из 4 карточек -->
        <div class="movie-search-grid">
          {% for obj in page_obj %}
            {% include 'films/includes/film_preview_card.html' %}
          {% endfor %}
        </div>
      {% endif %}

      {% if page_obj.has_other_pages %}
        <div class="mt-5">
          {% include "includes/pagination.html" %}
        </div>
      {% endif %}
    </div>
  </section>
</main>
{% endblock %}
