{% extends "base.html" %}
{% load static %}
{% load crispy_forms_filters %}
{% load crispy_forms_tags %}

{% block title %}Регистрация{% endblock %}

{% block body_class %}layout--auth{% endblock %}

{% block content %}
<div class="auth-wrapper">
  <div class="auth-card auth-register">

    <!-- Левая часть: изображение -->
    <div class="auth-image"
         style="background-image: url('{% static 'images/symbol_smile.png' %}')">
    </div>

    <!-- Правая часть: форма -->
    <div class="auth-body">
      <h2>Регистрация</h2>

      <form method="post" novalidate>
        {% csrf_token %}

        {{ form.email|as_crispy_field }}
        {{ form.username|as_crispy_field }}
        {{ form.timezone|as_crispy_field }}
        {{ form.tg_chat_id|as_crispy_field }}

        <!-- Пароль -->
        <div class="mb-3">
          <label for="id_password1">Пароль</label>
          <div class="password-wrapper">
            {{ form.password1 }}
            <i class="bi bi-eye password-toggle"
               onclick="togglePassword('id_password1', this)">
            </i>
          </div>

          <div class="password-strength">
            <div id="password-strength-bar"
                 class="password-strength-bar"></div>
          </div>
        </div>

        {{ form.password2|as_crispy_field }}

        <div class=text-center>
          <button class="btn btn-primary">
            Создать аккаунт
          </button>
        </div>
      </form>

      <div class="auth-footer text-center mt-3">
        Уже есть аккаунт?
        <a href="{% url 'users:login' %}">Войти</a>
      </div>
    </div>

  </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/auth.js' %}"></script>
{% endblock %}
