<div class="mb-3">
    <label for="{{ widget.attrs.id }}" class="form-label">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</label>
    <label class="custom-file-upload">
        <input type="file" name="{{ widget.name }}" id="{{ widget.attrs.id }}" {% include "django/forms/widgets/attrs.html" %}>
        üìÅ –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª
    </label>
    <span id="file-name" class="form-text mt-2"></span>
    {% if widget.value %}
        <p class="form-text mt-2">–¢–µ–∫—É—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ: <a href="{{ widget.value.url }}" target="_blank">{{ widget.value.name }}</a></p>
    {% endif %}
</div>

<script>
    const fileInput = document.getElementById('{{ widget.attrs.id }}');
    const fileNameSpan = document.getElementById('file-name');

    fileInput.addEventListener('change', function() {
        if (fileInput.files.length > 0) {
            fileNameSpan.textContent = "–í—ã–±—Ä–∞–Ω —Ñ–∞–π–ª: " + fileInput.files[0].name;
        } else {
            fileNameSpan.textContent = "";
        }
    });
</script>
